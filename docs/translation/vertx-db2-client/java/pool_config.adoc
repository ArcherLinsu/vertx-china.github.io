=== 数据库服务负载均衡

你可以使用包含多个数据库服务的列表来配置连接池而不是单个数据库服务。

[source,java]
----
DB2Pool pool = DB2Pool.pool(Arrays.asList(server1, server2, server3), options);
----

当一个连接创建时，连接池使用(round-robin)轮询调度算法做负载均衡以选择不同的数据库服务

NOTE: 负载均衡在创建连接时提供的，而不是从池中获取连接时

=== 连接初始化
在连接创建后和返回连接池之前你可以使用 `link:../../apidocs/io/vertx/sqlclient/Pool.html#connectHandler-io.vertx.core.Handler-[connectHandler]` 来与连接交互

[source,java]
----
pool.connectHandler(conn -> {
  conn.query(sql).execute().onSuccess(res -> {
    // 从连接池中释放连接，以被应用程序继续使用Release the connection to the pool, ready to be used by the application
    conn.close();
  });
});
----
连接完成后,你应该释放连接以通知连接池可以继续使用该连接
